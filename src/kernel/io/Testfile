DIR = src/kernel/io
BIN = rsf tsf csf hisf
NEED =$(BIN)

help:
	@echo $(DIR)
need:
	@echo $(NEED)

clean: 
	@echo Cleaning $(DIR)
	@rm -f rsf.in rsf.out csf.out

all:	$(BIN)

rsf:
	@echo Creating rsf.in
	@echo 'int MyI 04' > rsf.in
	@echo 'float MyF 1.2345' >> rsf.in
	@echo 'double MyD 9.87654321' >> rsf.in
	@echo 'char MyS[5] "nemo"' >> rsf.in
	@echo 'set MySet'  >> rsf.in
	@echo '  int MyI2 01' >> rsf.in
	@echo 'tes' >> rsf.in
	@echo Running rsf
	rsf rsf.in rsf.out

tsf:
	@echo Running tsf
	tsf rsf.out maxprec=t

csf:
	@echo Running csf
	csf rsf.out csf.out MySet
	csf rsf.out - MyD | tsf - maxprec=t
	csf rsf.out - MyD convert=d2f | tsf - maxprec=t
	csf rsf.out - MyF | tsf - maxprec=t
# oops,there is a problem here, can't do this
#	csf rsf.out - MyF convert=f2d | tsf - maxprec=t
	tsf csf.out

hisf:
	@echo Running hisf
	hisf csf.out

