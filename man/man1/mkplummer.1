.TH MKPLUMMER 1NEMO "22 May 1997"
.SH NAME
mkplummer \- generates a snapshot according to a truncated Plummer model
.SH SYNOPSIS
\fBmkplummer\fP [parameters=values...]
.SH DESCRIPTION
\fImkplummer\fP constructs a Plummer model, with a spatial or mass
cut-off, after which it performs a coordinate transformation to the
center-of-mass coordinate system. The data are then written into a
file \fIsnap-file\fP, in a standard N-body snapshot format.  
The model
is constructed in VIRIAL units (M=G=-4E=1, with E the total energy),
and finite spatial extent which can be regulated by specifying
\fImfrac\fP or \fIrfrac\fP or using their default values.  The
distribution function of a Plummer model is spherically symmetric and
isotropic, and is a polytrope of index n = 5. 
See also Aarseth et al. (1974) and Plummer (1911)
.SH PARAMETERS
The following parameters are recognized; they may be given in any order.
.TP 25
\fBout=\fP\fIsnapfile\fP
Output data is written into \fIsnapfile\fP, in standard snapshot format.
.TP
\fBnbody=\fP\fIinteger\fP
Number of particles \fInobj\fP in Nbody snapshot realization of the
Plummer model.
.TP
\fBmfrac=\fP\fIreal\fP
mass fraction of the (infinitely extended) Plummer model;
see  rfrac immediately below (Default: \fIrfrac\fP=22.8042468).
.TP
\fBrfrac=\fP\fIreal\fP
radius fraction of the (infinitely extended) Plummer model. If
\fImfrac = rfrac\fP = 1.0 then particles will be sprinkled in all over
space. If \fImfrac\fP < 1.0 or \fIrfrac\fP < 1.0 then each particle is
constrained to lie within both the radial and (cumulative) mass bound.
For example, if \fIrfrac\fP( \fImfrac\fP ) > \fIrfrac\fP then
\fIrfrac\fP is the limiting factor, but if \fIrfrac\fP( \fImfrac\fP )
< \fIrfrac\fP then \fImfrac\fP limits the extent of the Plummer
realization.  Note: specifying either value may have no effect if the
default value of the other parameter is still the limiting factor;
Beware! (Default: \fImfrac\fP=0.999; \fIrfrac\fP=22.8042468 , chosen
so that the cumulative mass at \fIrfrac\fP is \fImfrac\fP).
.TP
\fBseed=\fP\fIinteger\fP
seed for the random number generator (default: a value 0, which will
be converted into a unique new value using UNIX's clock time, in
seconds since once-upon-a-time-in-the-seventies).
.TP
\fBtime=\fP\fItime\fP
Time at which the snapshot applies (default: \fItime\fP=0.0).
.TP
\fBzerocm=t|f\fP
Reset center of mass to zero? [default: \fBt\fP].
.TP
\fBquit=\fIlevel\fP
Level of quit start. 0 is noisy, 1=somewhat quiet, 2=more quiet
[default: \fB0\fP].
.TP
\fBmassname=\fIname\fP
Identification of the mass spectrum. It is normally only a function
of mass, so \fBn(m)\fP will suffice. If nothing specified, all
stars will have the same mass (total mass M=1). [default: not used].
.TP
\fBmassexpr=\fIexpr\fP
Expression for the mass-spectrum. In addition to the mass \fIm\fP from
the \fBmassname\fP it may contain any variables contained in the 
\fBmasspars\fP to be specified next. [default: \fBpow(m,p)\fP].
.TP
\fBmasspars=\fIpars\fP
List of parameters and their values. They can be used by name in the
\fBmassexpr\fP specified before. [default: \fBp,0.0\fP].
.TP
\fBmassrange=\fImlow:mhigh\fP
Valid massrange. A lower and higher cutoff must be supplied. The massrange
has arbitrary units, since all masses will be rescaled to set the total
mass M=1. [default: \fB1,1\fP].
.TP
\fBheadline=\fP\fIstring\fP
Optional headline, which is written as the first item in the snapshot
file, the next item being the snapshot itself. [default: not used].
.SH BUGS
A non-delta function mass-spectrum will not create a properly
virialized system yet. See \fIsnapvirial(1NEMO)\fP
.SH SEE ALSO
snapvirial(1NEMO), mkplummer(3NEMO)
.PP
H.C.Plummer (1911), \fIMNRAS\fP, \fB71\fP, 460.
.PP
S.J. Aarseth, M. Henon and R.  Wielen (1974), 
\fIAstron. and Astrophys.\fB 37\fP, p. 183.
.SH AUTHOR
Piet Hut (Peter Teuben)
.SH FILES
.nf
.ta +3.0i
~/src/nbody/init	mkplummer.c
.fi
.SH "UPDATE HISTORY"
.nf
.ta +1.0i +4.5i
23-Apr-87	Version 1.0: created         	PIET
10-Jun-88	Version 1.1: created         	PIET
xx-xxx-88	V1.2: zerocm keyword added	PJT
xx-Mar-89	V2.0: full new snapshot version	+ doc PJT
15-nov-90	V2.3: mass-spectrum and cleanup	for NEMO 2.x	PJT
6-jun-96	V2.5d: report total mass before scaling  	PJT
